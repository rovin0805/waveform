(this.webpackJsonpwaveform=this.webpackJsonpwaveform||[]).push([[0],{49:function(e,t,a){e.exports=a(58)},58:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),i=a.n(r),l=a(19),s=a(11),c=a(10),u=a(17),d=a(15),g=a(23),m=a(34),h=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onLoading=function(e){var t=e.wavesurfer,a=e.originalArgs,o=void 0===a?[]:a;n.setState({loaded:100===o[0],wavesurfer:t}),n.state.wavesurfer.enableDragSelection({color:"rgba(100, 149, 240, 0.3)"}),n.state.wavesurfer.on("ready",(function(){return n.setState({duration:t.getDuration()})})),n.state.wavesurfer.on("finish",(function(){n.setState({playing:!1}),t.skipBackward(n.state.duration)}))},n.onPosChange=function(e,t){n.setState({pos:t.getCurrentTime(),wavesurfer:t})},n.secondsToPosition=function(e){return 1/n.state.wavesurfer.getDuration()*e},n.handleSingleRegionUpdate=function(e){var t=Object.assign(n.state,{regions:Object(g.a)({},e.region.id,e.region)});n.setState(t)},n.handleRegionClick=function(e){setTimeout((function(){n.state.wavesurfer.seekTo(n.secondsToPosition(e.originalArgs[0].start))}),50),n.setState({regionFlag:!0}),n.props.onClick(e.originalArgs[0].start,e.originalArgs[0].end,n.state.wavesurfer)},n.handleRegionDone=function(e){n.state.regionFlag&&(setTimeout((function(){n.state.wavesurfer.seekTo(n.secondsToPosition(e.originalArgs[0].start))}),50),n.setState({playing:!1}))},n.zoom=function(e){var t=n.state.wavesurfer,a=t.params.minPxPerSec;"in"===e?t.zoom(a+10):"out"===e&&a>1&&t.zoom(a-10)},n.state={regionFlag:!1,playing:!1,wavesurfer:null,duration:0,pos:0,regions:{}},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.duration,n=t.pos,r=t.wavesurfer;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container example"},o.a.createElement(m.b,{id:"waveform",audioFile:"https://www.mfiles.co.uk/mp3-downloads/gs-cd-track2.mp3",className:"react-waves",options:{barGap:2,barWidth:1.8,barHeight:2,cursorWidth:0,height:200,hideScrollbar:!0,progressColor:"#EC407A",responsive:!0,waveColor:"#D1D6DA"},volume:1,zoom:1,pos:this.state.pos,playing:this.state.playing,onPosChange:this.onPosChange,onLoading:this.onLoading},o.a.createElement(m.a,{onSingleRegionUpdate:this.handleSingleRegionUpdate,onRegionClick:this.handleRegionClick,onRegionOut:this.handleRegionDone,regions:this.state.regions})),o.a.createElement("div",null,new Date(1e3*n).toISOString().substr(11,8)," /"," ",new Date(1e3*a).toISOString().substr(11,8)),o.a.createElement("button",{className:"play button",onClick:function(){e.setState({playing:!e.state.playing,regionFlag:!1}),e.state.wavesurfer.on("audioprocess",(function(){e.state.wavesurfer.setPlayEnd(e.state.wavesurfer.getDuration())}))}},this.state.playing?"PAUSE \u23f8":"Whole PLAY \u25b6"),this.state.regionFlag?o.a.createElement("button",{onClick:function(){e.setState({playing:!e.state.playing})}},this.state.playing?"Pause":"Region PLAY"):o.a.createElement("span",null),o.a.createElement("br",null),o.a.createElement("button",{className:"clearRegions button",onClick:function(){r.clearRegions(),e.props.handleClearRegionPoints(),e.setState({regionFlag:!1})}},"Clear All Regions"),o.a.createElement("div",{className:"zoom-buttons"},o.a.createElement("button",{className:"zoom-in button",onClick:this.zoom.bind(this,"in")},"\u2795\ufe0f"," Zoom In"),o.a.createElement("button",{className:"zoom-out button",onClick:this.zoom.bind(this,"out")},"\u2796\ufe0f"," Zoom Out"))))}}]),a}(o.a.Component),f=a(35),p=a.n(f),v=a(39),b=a(87),y=a(92),w=a(93),S=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={talker:"",text:""},e.handleSelectRow=function(t){e.setState(t)},e.handleChange=function(t){e.setState(Object(g.a)({},t.target.name,t.target.value))},e.handleSubmit=function(){var t=Object(v.a)(p.a.mark((function t(a){var n,o,r,i,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),n=e.props.selectedBoard,o=e.state,r=o.talker,i=o.text,l={talker:r,text:i},e.props.onSaveData(l,n.brdno),e.setState({talker:"",text:""});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement(b.a,{container:!0,spacing:3,item:!0,xs:12},o.a.createElement(b.a,{container:!0,item:!0,xs:3,direction:"row",justify:"flex-end",alignItems:"center"},o.a.createElement(y.a,{label:"\ubc1c\ud654\uc778",placeholder:"\ubc1c\ud654\uc778\uc744 \uc785\ub825\ud558\uc138\uc694",style:{margin:8,marginLeft:120},margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},name:"talker",value:this.state.talker,onChange:this.handleChange})),o.a.createElement(b.a,{item:!0,xs:6},o.a.createElement("div",null,o.a.createElement(y.a,{label:"\uc804\uc0ac\ud560 \ub0b4\uc6a9 \uc785\ub825",style:{margin:8},fullWidth:!0,margin:"normal",variant:"outlined",name:"text",value:this.state.text,onChange:this.handleChange}))),o.a.createElement(b.a,{container:!0,item:!0,sm:1,direction:"column",justify:"flex-end",alignItems:"center"},o.a.createElement(w.a,{type:"submit",variant:"contained",color:"secondary",style:{margin:20,padding:10}},"\uc785\ub825"))))}}]),a}(o.a.Component),E=a(91),P=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleSelectRow=function(){var t=e.props,a=t.row;(0,t.onSelectRow)(a)},e.handleRemove=function(){var t=e.props,a=t.row;(0,t.onRemove)(a.brdno)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.row;return o.a.createElement(b.a,{container:!0,spacing:1,item:!0,sm:12},o.a.createElement(b.a,{container:!0,item:!0,sm:1,direction:"column",justify:"space-between",alignItems:"flex-start"},o.a.createElement(E.a,{style:{marginTop:25,marginLeft:20}},t.brdno)),o.a.createElement(b.a,{container:!0,item:!0,sm:2,direction:"row",justify:"flex-start",alignItems:"flex-start"},o.a.createElement(y.a,{id:"standard-read-only-input",label:"\ubc1c\ud654\uc778",value:t.talker,style:{margin:8,marginLeft:20},margin:"normal",variant:"filled",InputProps:{readOnly:!0},onClick:this.handleSelectRow}),o.a.createElement(E.a,{variant:"h6",style:{marginTop:5,marginLeft:80}},t.analysisType)),o.a.createElement(b.a,{container:!0,item:!0,sm:8},o.a.createElement(b.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"stretch"},o.a.createElement(y.a,{id:"outlined-full-width",label:"\ubc1c\ud654\ub0b4\uc6a9",value:t.text,style:{margin:8},margin:"normal",variant:"filled",InputProps:{readOnly:!0},onClick:this.handleSelectRow}))),o.a.createElement(b.a,{item:!0,sm:1,container:!0,direction:"column",justify:"flex-end",alignItems:"center"},this.props.row.regionStart?o.a.createElement(w.a,{variant:"contained",color:"secondary",style:{margin:20,padding:10},onClick:function(){var t=e.props,a=(t.handleAudioPlay,t.audioPlaying,t.row),n=t.wavesurfer;n.seekTo(1/n.getDuration()*a.regionStart),n.play(),n.on("audioprocess",(function(){n.play(),n.setPlayEnd(a.regionEnd)})),console.log(n.regions.list)}},"\u25b6"):o.a.createElement("span",null)))}}]),a}(n.Component),k=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={maxNo:1,boards:[{brdno:0,talker:"\ucf54\uc2a4\ubaa8\uc2a4",text:"\ucf54\uc2a4\ubaa8\uc2a4\ub294 \uac00\uc744\uc5d0 \ud53c\uc5b4\uc694."}],selectedBoard:{},start:null,end:null,wavesurfer:null,audioPlaying:!1},e.handleAudioPlay=function(t){e.setState({audioPlaying:t})},e.handleSetRegionPoints=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.setState({start:t,end:a,wavesurfer:n}),console.log("\ud074\ub9ad \uad6c\uac04 \uc2dc\uc791 : ".concat(t,"s / \ud074\ub9ad \uad6c\uac04 \ub05d : ").concat(a,"s"))},e.handleGetData=function(t,a){a?e.setState({boards:e.state.boards.map((function(n){return a===n.brdno?Object(l.a)(Object(l.a)({brdno:a},t),{},{regionStart:e.state.start,regionEnd:e.state.end}):n})),selectedBoard:{}}):e.setState({maxNo:e.state.maxNo+1,boards:e.state.boards.concat(Object(l.a)(Object(l.a)({brdno:e.state.maxNo},t),{},{regionStart:e.state.start,regionEnd:e.state.end})),selectedBoard:{}})},e.handleRemove=function(t){0!==t&&e.setState({boards:e.state.boards.filter((function(e){return e.brdno!==t}))})},e.handleSelectRow=function(t){e.setState({selectedBoard:t})},e.handleClearRegionPoints=function(){e.setState({start:null,end:null},(function(){return console.log(e.state.start,e.state.end)})),console.log("Clear Region start&end points")},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.boards,n=t.selectedBoard,r=t.wavesurfer;return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{onClick:this.handleSetRegionPoints,handleAudioPlay:this.handleAudioPlay,audioPlaying:this.state.audioPlaying,handleClearRegionPoints:this.handleClearRegionPoints}),o.a.createElement(S,{onSaveData:this.handleGetData,selectedBoard:n}),a.map((function(t){return o.a.createElement(P,{key:t.brdno,row:t,onRemove:e.handleRemove,onSelectRow:e.handleSelectRow,handleAudioPlay:e.handleAudioPlay,audioPlaying:e.state.audioPlaying,handleSetRegionPoints:e.handleSetRegionPoints,wavesurfer:r})})),console.log("boards",a))}}]),a}(n.Component);var C=function(){return o.a.createElement(k,null)};i.a.render(o.a.createElement(C,null),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.b27b19eb.chunk.js.map